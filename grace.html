<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ask Grace | AI-Powered Assistance | Guardian Roofing & Siding</title>
  <meta name="description" content="Meet Grace, Guardian's AI insurance claims specialist. Get instant answers about storm damage, insurance claims, and home repairs.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css?v=114">
  <style>
    /* Grace Page Specific Styles */
    .grace-page {
      min-height: 100vh;
      background: linear-gradient(180deg, var(--light-gray) 0%, var(--white) 100%);
      overflow-x: hidden;
      max-width: 100vw;
    }
    
    .grace-page * {
      box-sizing: border-box;
    }
    
    .grace-hero {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: var(--white);
      padding: 8rem 2rem 4rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .grace-hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      opacity: 0.5;
    }
    
    .grace-hero .container {
      position: relative;
      z-index: 2;
      max-width: 800px;
      margin: 0 auto;
    }
    
    .grace-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(247, 148, 29, 0.2);
      border: 1px solid rgba(247, 148, 29, 0.4);
      padding: 0.5rem 1.25rem;
      border-radius: 50px;
      font-size: 0.9rem;
      color: var(--accent);
      margin-bottom: 1.5rem;
      font-weight: 600;
    }
    
    .grace-hero h1 {
      font-family: 'Poppins', sans-serif;
      font-size: clamp(2.5rem, 5vw, 3.5rem);
      font-weight: 800;
      margin-bottom: 1rem;
      color: var(--white);
    }
    
    .grace-hero p {
      font-size: 1.2rem;
      opacity: 0.9;
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.7;
    }
    
    /* Main Content */
    .grace-content {
      max-width: 1200px;
      margin: -3rem auto 0;
      padding: 0 2rem 4rem;
      position: relative;
      z-index: 10;
    }
    
    .grace-interface {
      display: grid;
      grid-template-columns: 400px 1fr;
      gap: 2rem;
      background: var(--white);
      border-radius: var(--radius-xl);
      box-shadow: 0 20px 60px rgba(0,0,0,0.1);
      overflow: hidden;
      min-height: 550px;
    }
    
    /* Avatar Panel */
    .avatar-panel {
      background: linear-gradient(180deg, var(--primary) 0%, var(--primary-dark) 100%);
      display: flex;
      flex-direction: column;
      position: relative;
    }
    
    .avatar-area {
      flex: 1;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding: 2rem 2rem 0;
      position: relative;
      overflow: hidden;
    }
    
    .avatar-area::before {
      content: '';
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 200px;
      background: radial-gradient(circle, rgba(247, 148, 29, 0.3) 0%, transparent 70%);
      filter: blur(40px);
    }
    
    .avatar-image {
      position: relative;
      z-index: 2;
      max-width: 320px;
      width: 100%;
      height: auto;
      display: block;
      mask-image: linear-gradient(to top, transparent 0%, black 10%, black 100%);
      -webkit-mask-image: linear-gradient(to top, transparent 0%, black 10%, black 100%);
    }
    
    .avatar-info {
      padding: 1.5rem;
      background: rgba(0,0,0,0.2);
      text-align: center;
      color: var(--white);
    }
    
    .avatar-info h3 {
      font-size: 1.25rem;
      margin-bottom: 0.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    
    .status-dot {
      width: 10px;
      height: 10px;
      background: #4ade80;
      border-radius: 50%;
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    .avatar-info p {
      font-size: 0.9rem;
      opacity: 0.8;
      margin: 0;
    }
    
    /* Chat Panel */
    .chat-panel {
      display: flex;
      flex-direction: column;
    }
    
    .chat-header {
      padding: 1.5rem 2rem;
      border-bottom: 1px solid var(--light-gray);
    }
    
    .chat-header h2 {
      font-size: 1.25rem;
      color: var(--primary);
      margin-bottom: 0.25rem;
    }
    
    .chat-header p {
      font-size: 0.9rem;
      color: var(--medium-gray);
      margin: 0;
    }
    
    .chat-messages {
      flex: 1;
      padding: 1.5rem 2rem;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      background: var(--light-gray);
    }
    
    .message {
      max-width: 85%;
      padding: 1rem 1.25rem;
      border-radius: 18px;
      font-size: 0.95rem;
      line-height: 1.6;
    }
    
    .message.assistant {
      background: var(--white);
      border: 1px solid rgba(0,0,0,0.05);
      align-self: flex-start;
      border-bottom-left-radius: 4px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    
    .message.user {
      background: var(--primary);
      color: var(--white);
      align-self: flex-end;
      border-bottom-right-radius: 4px;
    }
    
    .quick-actions {
      padding: 1rem 2rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      border-top: 1px solid var(--light-gray);
      background: var(--white);
    }
    
    .quick-btn {
      padding: 0.6rem 1rem;
      background: var(--light-gray);
      border: 1px solid transparent;
      border-radius: 20px;
      color: var(--primary);
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 500;
    }
    
    .quick-btn:hover {
      background: var(--white);
      border-color: var(--accent);
      color: var(--accent);
    }
    
    .chat-input {
      padding: 1.5rem 2rem;
      border-top: 1px solid var(--light-gray);
      display: flex;
      gap: 1rem;
      background: var(--white);
    }
    
    .chat-input input {
      flex: 1;
      padding: 1rem 1.25rem;
      border: 2px solid var(--light-gray);
      border-radius: var(--radius-md);
      font-size: 1rem;
      outline: none;
      transition: border-color 0.2s ease;
    }
    
    .chat-input input:focus {
      border-color: var(--accent);
    }
    
    .chat-input button {
      padding: 1rem 1.5rem;
      background: var(--accent);
      border: none;
      border-radius: var(--radius-md);
      color: var(--white);
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .chat-input button:hover {
      background: #e8850f;
      transform: translateY(-2px);
    }
    
    /* Features Section */
    .grace-features {
      margin-top: 4rem;
    }
    
    .grace-features .section-header {
      text-align: center;
      margin-bottom: 3rem;
    }
    
    .grace-features h2 {
      font-family: 'Poppins', sans-serif;
      font-size: 2rem;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }
    
    .grace-features > p {
      color: var(--medium-gray);
      font-size: 1.1rem;
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;
    }
    
    .feature-card {
      background: var(--white);
      padding: 2rem;
      border-radius: var(--radius-lg);
      text-align: center;
      box-shadow: 0 4px 20px rgba(0,0,0,0.05);
      transition: all 0.3s ease;
      border: 1px solid var(--light-gray);
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.1);
      border-color: var(--accent);
    }
    
    .feature-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--accent), #ffc107);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1.25rem;
    }
    
    .feature-icon svg {
      width: 28px;
      height: 28px;
      color: var(--white);
    }
    
    .feature-card h4 {
      font-size: 1.1rem;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }
    
    .feature-card p {
      font-size: 0.9rem;
      color: var(--medium-gray);
      line-height: 1.5;
      margin: 0;
    }
    
    /* CTA Section */
    .grace-cta {
      margin-top: 4rem;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      border-radius: var(--radius-xl);
      padding: 3rem;
      text-align: center;
      color: var(--white);
    }
    
    .grace-cta h3 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.75rem;
      margin-bottom: 1rem;
      color: var(--white);
    }
    
    .grace-cta p {
      opacity: 0.9;
      margin-bottom: 1.5rem;
      font-size: 1.1rem;
    }
    
    .grace-cta .btn {
      background: var(--accent);
      color: var(--white);
      padding: 1rem 2rem;
      border-radius: var(--radius-md);
      text-decoration: none;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.2s ease;
    }
    
    .grace-cta .btn:hover {
      background: #e8850f;
      transform: translateY(-2px);
    }
    
    /* Responsive */
    @media (max-width: 1024px) {
      .grace-interface {
        grid-template-columns: 1fr;
      }
      
      .avatar-panel {
        max-height: 350px;
      }
      
      .features-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (max-width: 640px) {
      .grace-hero {
        padding: 6rem 1rem 3rem;
      }
      
      .grace-hero h1 {
        font-size: 1.75rem;
      }
      
      .grace-hero p {
        font-size: 1rem;
      }
      
      .grace-content {
        padding: 0 0.75rem 2rem;
        margin-top: -2rem;
      }
      
      .grace-interface {
        border-radius: var(--radius-lg);
        overflow: hidden;
      }
      
      .avatar-panel {
        max-height: 280px;
      }
      
      .avatar-image {
        max-width: 180px;
      }
      
      .chat-header, .chat-input, .quick-actions {
        padding-left: 1rem;
        padding-right: 1rem;
      }
      
      .chat-header h2 {
        font-size: 1.1rem;
      }
      
      .chat-messages {
        padding: 1rem;
        max-height: 250px;
      }
      
      .message {
        max-width: 90%;
        padding: 0.875rem 1rem;
        font-size: 0.9rem;
      }
      
      .quick-actions {
        gap: 0.4rem;
      }
      
      .quick-btn {
        font-size: 0.8rem;
        padding: 0.5rem 0.75rem;
      }
      
      .chat-input {
        gap: 0.5rem;
      }
      
      .chat-input input {
        padding: 0.875rem 1rem;
        font-size: 0.95rem;
      }
      
      .chat-input button {
        padding: 0.875rem 1rem;
        font-size: 0.9rem;
      }
      
      .features-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      
      .feature-card {
        padding: 1.5rem;
      }
      
      .feature-card h4 {
        font-size: 1rem;
      }
      
      .grace-cta {
        padding: 2rem 1.25rem;
        border-radius: var(--radius-lg);
      }
      
      .grace-cta h3 {
        font-size: 1.25rem;
      }
      
      .grace-features h2 {
        font-size: 1.5rem;
      }
    }
    /* Mobile Nav Fix */
    @media (max-width: 992px) {
      .nav-toggle {
        display: block !important;
      }
      .main-nav {
        position: fixed !important;
        right: -100% !important;
        top: 0;
        height: 100vh;
        width: 80%;
        max-width: 350px;
        background: white;
        flex-direction: column;
        padding: 5rem 2rem 2rem;
        z-index: 1000;
        transition: right 0.3s ease;
      }
      .main-nav.active {
        right: 0 !important;
      }
      .nav-links {
        flex-direction: column;
        width: 100%;
      }
    }
  </style>
</head>
<body class="grace-page">
  <!-- Header -->
  <header class="header">
    <div class="container">
      <a href="index.html" class="logo">
        <div class="logo-icon">üè†</div>
        <div class="logo-text">
          Guardian Roofing & Siding
          <span>Family-Owned Since 2010</span>
        </div>
      </a>
      
      <button class="nav-toggle" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
      <nav class="main-nav">
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li class="has-dropdown">
            <a href="services.html">Services</a>
            <ul class="dropdown">
              <li><a href="roofing.html">Roofing</a></li>
              <li><a href="siding.html">Siding</a></li>
              <li><a href="storm-damage.html">Storm Repair</a></li>
            </ul>
          </li>
          <li><a href="projects.html">Projects</a></li>
          <li><a href="testimonials.html">Testimonials</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="service-areas.html">Service Areas</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="grace.html" class="nav-grace active">Ask Grace ü§ñ</a></li>
        </ul>
        <div class="header-cta">
          <a href="contact.html" class="btn btn-primary">Free Inspection</a>
        </div>
      </nav>
      <div class="nav-overlay"></div>
    </div>
  </header>

  <!-- Hero -->
  <section class="grace-hero">
    <div class="container">
      <span class="grace-badge">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
        AI-Powered Assistance
      </span>
      <h1>Meet Grace, Your Claims Specialist</h1>
      <p>Get instant answers about storm damage, insurance claims, and repairs. Available 24/7 to guide you through the process.</p>
    </div>
  </section>

  <!-- Main Interface -->
  <section class="grace-content">
    <div class="grace-interface">
      <div class="avatar-panel">
        <div class="avatar-area">
          <img src="images/avatar-grace-large.jpg" alt="Grace - AI Insurance Claims Specialist" class="avatar-image">
        </div>
        <div class="avatar-info">
          <h3><span class="status-dot"></span> Grace</h3>
          <p>Insurance Claims Specialist</p>
        </div>
      </div>
      
      <div class="chat-panel">
        <div class="chat-header">
          <h2>How can I help you today?</h2>
          <p>Ask me anything about insurance claims, storm damage, or our services</p>
        </div>
        
        <div class="chat-messages">
          <div class="message assistant">
            Hi! I'm Grace, Guardian's AI insurance claims specialist. I'm here to help you understand the claims process and answer any questions about storm damage repairs. What can I help you with today?
          </div>
        </div>
        
        <div class="quick-actions">
          <button class="quick-btn">Do I have storm damage?</button>
          <button class="quick-btn">How do insurance claims work?</button>
          <button class="quick-btn">What will I pay?</button>
          <button class="quick-btn">Schedule inspection</button>
        </div>
        
        <div class="chat-input">
          <input type="text" placeholder="Type your message...">
          <button>
            Send
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Features -->
    <div class="grace-features">
      <div class="section-header">
        <h2>The Future of Home Services</h2>
        <p>Guardian is pioneering AI-first operations in roofing and siding</p>
      </div>
      
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          </div>
          <h4>24/7 Availability</h4>
          <p>Get answers anytime, even after hours or during emergencies</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          </div>
          <h4>Expert Knowledge</h4>
          <p>Trained on thousands of claims to give you accurate guidance</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
          </div>
          <h4>Instant Responses</h4>
          <p>No hold times, no waiting‚Äîget help in seconds</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
          </div>
          <h4>Seamless Handoff</h4>
          <p>Connects you with our human team when you're ready</p>
        </div>
      </div>
    </div>

    <!-- CTA -->
    <div class="grace-cta">
      <h3>Prefer to Talk to a Human?</h3>
      <p>Our friendly team is available Monday-Saturday to answer your questions</p>
      <a href="tel:855-424-5911" class="btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
        Call 855-424-5911
      </a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-bottom" style="border-top: none; padding-top: 2rem;">
        <p>¬© 2026 Guardian Roofing & Siding. All rights reserved.</p>
        <p>Pioneering the future of home services with AI-powered customer support.</p>
      </div>
    </div>
  </footer>

  <!-- Mobile CTA -->
  <div class="mobile-cta">
    <a href="tel:855-424-5911">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
      Call Now: 855-424-5911
    </a>
  </div>

  <script src="js/main.js"></script>
  <script>
    // Configuration
    const API_URL = '/api/chat';
    const DEMO_MODE = !API_URL;
    
    let conversationHistory = [];
    
    const messagesContainer = document.querySelector('.chat-messages');
    const inputField = document.querySelector('.chat-input input');
    const sendButton = document.querySelector('.chat-input button');
    const quickButtons = document.querySelectorAll('.quick-btn');
    
    const demoResponses = {
      'do i have storm damage': "That's a great question. Storm damage isn't always visible from the ground‚Äîhail can crack shingles and wind can loosen flashing without obvious signs. I'd recommend scheduling a free inspection so one of our experts can give you a thorough assessment. Would you like me to help you set that up?",
      'how do insurance claims work': "Great question! Here's the simple version: Your homeowner's insurance typically covers sudden storm damage. When you file a claim, an adjuster assesses the damage and approves repairs minus your deductible. What makes Guardian different is we handle everything FOR you‚Äîwe document the damage, file the paperwork, and meet with the adjuster to make sure nothing is missed. Would you like to know more about any part of this process?",
      'what will i pay': "Most of our customers pay only their deductible‚Äîthat's typically between $500 and $2,500, depending on your policy. Insurance is designed to cover the full cost of repairs minus that deductible. We work directly with your insurance company to ensure the settlement covers quality materials and proper installation. We never ask for payment until your claim is approved!",
      'schedule inspection': "I'd be happy to help you get scheduled! Our inspection team covers PA, NJ, DE, MD, VA, and NY, with appointments available Monday through Saturday. You can call us directly at 855-424-5911, or click the 'Schedule Inspection' button on our website to pick a time that works for you. Is there anything else you'd like to know before scheduling?",
      'default': "That's a great question. To give you the most accurate information for your specific situation, I'd recommend scheduling a free inspection with one of our experts. They can assess your home, answer all your questions in detail, and explain your options. Would you like to schedule one, or is there something else I can help clarify?"
    };
    
    function getDemoResponse(message) {
      const lower = message.toLowerCase();
      if (lower.includes('storm') || lower.includes('damage')) return demoResponses['do i have storm damage'];
      if (lower.includes('insurance') || lower.includes('claim')) return demoResponses['how do insurance claims work'];
      if (lower.includes('pay') || lower.includes('cost') || lower.includes('price')) return demoResponses['what will i pay'];
      if (lower.includes('schedule') || lower.includes('inspection') || lower.includes('appointment')) return demoResponses['schedule inspection'];
      return demoResponses['default'];
    }
    
    function addMessage(content, role) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${role}`;
      messageDiv.textContent = content;
      messagesContainer.appendChild(messageDiv);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    function setLoading(isLoading) {
      sendButton.disabled = isLoading;
      inputField.disabled = isLoading;
      sendButton.innerHTML = isLoading 
        ? '<span style="animation: pulse 1s infinite">‚óè‚óè‚óè</span>'
        : 'Send <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>';
    }
    
    async function sendMessage(userMessage) {
      if (!userMessage.trim()) return;
      
      addMessage(userMessage, 'user');
      conversationHistory.push({ role: 'user', content: userMessage });
      inputField.value = '';
      setLoading(true);
      
      if (DEMO_MODE) {
        await new Promise(r => setTimeout(r, 800 + Math.random() * 700));
        const response = getDemoResponse(userMessage);
        addMessage(response, 'assistant');
        conversationHistory.push({ role: 'assistant', content: response });
        setLoading(false);
        return;
      }
      
      try {
        const response = await fetch(API_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ messages: conversationHistory })
        });
        const data = await response.json();
        if (data.response) {
          addMessage(data.response, 'assistant');
          conversationHistory.push({ role: 'assistant', content: data.response });
        } else {
          addMessage('I apologize, but I\'m having trouble connecting. Please call us at 855-424-5911.', 'assistant');
        }
      } catch (error) {
        addMessage('I apologize, but I\'m having trouble connecting. Please call us at 855-424-5911.', 'assistant');
      }
      
      setLoading(false);
    }
    
    sendButton.addEventListener('click', () => sendMessage(inputField.value));
    inputField.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(inputField.value); });
    quickButtons.forEach(btn => btn.addEventListener('click', () => sendMessage(btn.textContent)));
  </script>
</body>
</html>
